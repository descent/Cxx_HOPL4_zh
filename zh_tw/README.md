# 在擁擠和變化的世界中茁壯成長: C++ 2006–2020

這是 C++ 之父 Bjarne Stroustrup 的 [HOPL4 論文](https://www.stroustrup.com/hopl20main-p5-p-bfc9cd4--final.pdf)的中文版。

[HOPL](https://dl.acm.org/conference/hopl) 是 History of Programming Languages (編程語言歷史) 的縮寫, 是 [ACM](https://www.acm.org/) (Association of Computing Machines, 國際計算機協會) 旗下的一個會議, 約每十五年舉辦一次。Bjarne 的這篇論文是他為 2021 年 [HOPL IV 會議](https://hopl4.sigplan.org/)準備的論文, 也是他的第三篇 HOPL 論文。在這三篇前後間隔近三十年的論文裡, Bjarne 記錄了 C++ 的完整歷史, 從 1979 年到 2020 年。這篇 HOPL4 論文尤其重要, 因為它涵蓋了 C++98 之後的所有 C++ 版本, 從 C++11 直到 C++20。如果你對更早期的歷史也感興趣的話, 則可以參考[他的其他 HOPL 論文](https://www.stroustrup.com/papers.html), 及他在 1994 年出版的《C++ 語言的設計和演化》 (*The Design and Evolution of C++*) 。

鑒於這篇論文對於 C++ 從業者的重要性, [全球 C++ 及系統軟體技術大會](http://cpp-summit.org/)的主辦方 [Boolan](http://boolan.com/) 組織了一群譯者, 把這篇重要論文翻譯成了中文, 讓 C++ 開發人員對 C++ 的設計原則和歷史有一個系統的瞭解。下面是論文的完整摘要: 

> 到 2006 年時, C++ 已經在業界廣泛使用了 20 年。它既包含了自 1970 年代初引入 C 語言以來一直沒有改變的部分, 又包含了在二十一世紀初仍很新穎的特性。從 2006 年到 2020 年, C++ 開發者人數從約 300 萬增長到了約 450 萬。在這段時期裡, 有新的編程模型湧現出來, 有硬體架構的演變, 有新的應用領域變得至關重要, 也有好些語言在爭奪主導地位, 背後有雄厚的資金支援和專業的營銷。C++——一種沒有真正商業支援的、老得多的語言——是如何在這些挑戰面前繼續茁壯成長的? 
>
> 本文重點關注 ISO C++ 標準在 2011 年、2014 年、2017 年和 2020 年的修訂版中的重大變化。標準庫在篇幅上約占 C++20 標準的四分之三, 但本文的主要重點仍是語言特性和它們所支援的編程技術。
>
> 本文包含了長長的特性清單, 其中記錄了 C++ 的成長。我會對重要的技術要點進行討論, 並用簡短的程式碼片段加以說明。此外, 本文還展示了一些失敗的提案, 以及導致其失敗的討論。它提供了一個視角, 如何看待這些年來令人眼花繚亂的事實和特性。我的重點是塑造語言的想法、人和流程。
>
> 討論主題包括各種方向上的努力, 包括: 通過演進式變化保留 C++ 的本質, 簡化 C++ 的使用, 改善對泛型編程的支援, 更好地支援編譯期編程, 擴展對並發和並行編程的支援, 以及保持對幾十年前的程式碼的穩定支援。
>
> ISO C++ 標準是通過一個共識流程演化而來的。無可避免, 在方向、設計理念和原則方面, 不同的提案間存在競爭和 (通常是禮貌性的) 衝突。委員會現在比以往任何時候都更大、更活躍, 每年有多達 250 人參加三次為期一周的會議, 還有更多的人以電子方式參加。我們試圖 (並不總是成功) 減輕各種不良影響, 包括“委員會設計”、官僚主義, 以及對各種語言時尚的過度熱衷。
>
> 具體的語言技術話題包括記憶體模型、並發並行、編譯期計算、移動語義、異常、lambda 表達式和模組。要設計一種機制來指定模板對其參數的要求, 既足夠靈活和精確, 又不會增加運行期開銷, 實踐證明這很困難。設計“概念”來做到這一點的反覆嘗試可以追溯到 1980 年代, 並觸及到 C++ 和泛型編程的許多關鍵設計問題。
>
> 文中的描述基于個人對關鍵事件和設計決策的參與, 並以 ISO C++ 標準委員會檔案中的數千篇論文和數百份會議記錄作為支援。

下面是論文的一級目錄: 

1. [前言](01.md)
2. [背景: C++ 的 1979–2006](02.md)
3. [C++ 標準委員會](03.md)
4. [C++11: 感覺像是門新語言](04.md)
5. [C++14: 完成 C++11](05.md)
6. [概念](06.md)
7. [錯誤處理](07.md)
8. [C++17: 大海迷航](08.md)
9. [C++20: 方向之爭](09.md)
10. [2020 年的 C++](10.md)
11. [回顧](11.md)

---

參加論文翻譯工作的譯者有 (按拼音序) : 

- 陳常筠
- 高輝
- 何榮華
- 何一娜
- 侯晨
- 侯金亭
- 彭亞
- 王奎
- 王紹新
- 吳詠煒
- 徐寧
- 楊文波
- 于波
- 餘水清
- 翟華明
- 章愛國
- 張雲潮

論文翻譯的校對和體例統一工作由吳詠煒、楊文波、張雲潮完成。最後的發佈由吳詠煒完成。

我們翻譯的是論文的正文部分, 英文原文超過 140 頁。最後的參考文獻部分, 由於翻譯的意義不大, 沒有譯出。不過, 這也帶來了一個小小的負面後果: 雖然我們對論文內部的交叉引用可以用腳本生成連結, 但對指向參考文獻的連結就完全無能為力了。所以, 如果想要閲讀參考文獻的話, 只能請你到[英文原文](https://www.stroustrup.com/hopl20main-p5-p-bfc9cd4--final.pdf)結尾的 References 部分自行查找了。

翻譯過程中我們發現了一些原文中的小問題, 並在譯文中進行了修正或標註 (絶大部分已經經過 Bjarne 老爺子確認) 。當然, 在翻譯過程中引入翻譯錯誤或其他技術問題, 恐怕也在所難免——不過, 跟 ACM 上發表論文不同, 這個網頁仍然是可以修正的。所以, 如果你, 親愛的讀者, 發現問題的話, 請不吝提交 pull request, 我們會儘快檢查併進行修正。
